webpackJsonp([22],{738:function(l,n,u){"use strict";function e(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,10,"ion-header",[],null,null,null,null,null)),t["ɵdid"](1,16384,null,0,E.a,[y.a,t.ElementRef,t.Renderer,[2,L.a]],null,null),(l()(),t["ɵted"](-1,null,["\n    "])),(l()(),t["ɵeld"](3,0,null,null,6,"ion-navbar",[["class","toolbar"],["color","primary"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,M.b,M.a)),t["ɵdid"](4,49152,null,0,P.a,[w.a,[2,L.a],[2,S.a],y.a,t.ElementRef,t.Renderer],{color:[0,"color"]},null),(l()(),t["ɵted"](-1,3,["\n        "])),(l()(),t["ɵeld"](6,0,null,3,2,"ion-title",[],null,null,null,A.b,A.a)),t["ɵdid"](7,49152,null,0,F.a,[y.a,t.ElementRef,t.Renderer,[2,_.a],[2,P.a]],null,null),(l()(),t["ɵted"](-1,0,["GPS定位"])),(l()(),t["ɵted"](-1,3,["\n    "])),(l()(),t["ɵted"](-1,null,["\n"])),(l()(),t["ɵted"](-1,null,["\n\n"])),(l()(),t["ɵeld"](12,0,null,null,59,"ion-content",[["padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,C.b,C.a)),t["ɵdid"](13,4374528,null,0,k.a,[y.a,I.a,N.a,t.ElementRef,t.Renderer,w.a,D.a,t.NgZone,[2,L.a],[2,S.a]],null,null),(l()(),t["ɵted"](-1,1,["\n    "])),(l()(),t["ɵeld"](15,0,null,0,11,"ion-fab",[["bottom",""],["left",""]],null,null,null,G.b,G.a)),t["ɵdid"](16,1228800,null,2,O.a,[I.a],null,null),t["ɵqud"](335544320,1,{_mainButton:0}),t["ɵqud"](603979776,2,{_fabLists:1}),(l()(),t["ɵted"](-1,0,["\n        "])),(l()(),t["ɵeld"](20,0,null,0,5,"button",[["ion-fab",""]],null,[[null,"click"]],function(l,n,u){var e=!0;if("click"===n){e=!1!==l.component.getLocation()&&e}return e},W.b,W.a)),t["ɵdid"](21,49152,[[1,4]],0,T.a,[y.a,t.ElementRef,t.Renderer],null,null),(l()(),t["ɵted"](-1,0,["\n            "])),(l()(),t["ɵeld"](23,0,null,0,1,"ion-icon",[["name","md-locate"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t["ɵdid"](24,147456,null,0,B.a,[y.a,t.ElementRef,t.Renderer],{name:[0,"name"]},null),(l()(),t["ɵted"](-1,0,["\n        "])),(l()(),t["ɵted"](-1,0,["\n    "])),(l()(),t["ɵted"](-1,1,["\n    "])),(l()(),t["ɵeld"](28,0,null,1,2,"button",[["full",""],["ion-button",""]],null,[[null,"click"]],function(l,n,u){var e=!0;if("click"===n){e=!1!==l.component.startWatchPosion()&&e}return e},x.b,x.a)),t["ɵdid"](29,1097728,null,0,V.a,[[8,""],y.a,t.ElementRef,t.Renderer],{full:[0,"full"]},null),(l()(),t["ɵted"](-1,0,["开始监听位置变化"])),(l()(),t["ɵted"](-1,1,["\n    "])),(l()(),t["ɵeld"](32,0,null,1,2,"button",[["full",""],["ion-button",""]],null,[[null,"click"]],function(l,n,u){var e=!0;if("click"===n){e=!1!==l.component.cancelWatchPosition()&&e}return e},x.b,x.a)),t["ɵdid"](33,1097728,null,0,V.a,[[8,""],y.a,t.ElementRef,t.Renderer],{full:[0,"full"]},null),(l()(),t["ɵted"](-1,0,["取消监听位置变化"])),(l()(),t["ɵted"](-1,1,["\n    "])),(l()(),t["ɵeld"](36,0,null,1,2,"ion-label",[["text-center",""]],null,null,null,null,null)),t["ɵdid"](37,16384,null,0,q.a,[y.a,t.ElementRef,t.Renderer,[8,null],[8,null],[8,null],[8,null]],null,null),(l()(),t["ɵted"](-1,null,["-----当前经纬度-----"])),(l()(),t["ɵted"](-1,1,["\n    "])),(l()(),t["ɵeld"](40,0,null,1,2,"ion-label",[],null,null,null,null,null)),t["ɵdid"](41,16384,null,0,q.a,[y.a,t.ElementRef,t.Renderer,[8,null],[8,null],[8,null],[8,null]],null,null),(l()(),t["ɵted"](42,null,["经度：",""])),(l()(),t["ɵted"](-1,1,["\n    "])),(l()(),t["ɵeld"](44,0,null,1,2,"ion-label",[],null,null,null,null,null)),t["ɵdid"](45,16384,null,0,q.a,[y.a,t.ElementRef,t.Renderer,[8,null],[8,null],[8,null],[8,null]],null,null),(l()(),t["ɵted"](46,null,["维度：",""])),(l()(),t["ɵted"](-1,1,["\n    "])),(l()(),t["ɵeld"](48,0,null,1,2,"ion-label",[],null,null,null,null,null)),t["ɵdid"](49,16384,null,0,q.a,[y.a,t.ElementRef,t.Renderer,[8,null],[8,null],[8,null],[8,null]],null,null),(l()(),t["ɵted"](50,null,["位置精确（m）：",""])),(l()(),t["ɵted"](-1,1,["\n    "])),(l()(),t["ɵeld"](52,0,null,1,2,"ion-label",[],null,null,null,null,null)),t["ɵdid"](53,16384,null,0,q.a,[y.a,t.ElementRef,t.Renderer,[8,null],[8,null],[8,null],[8,null]],null,null),(l()(),t["ɵted"](54,null,["海拔（m）：",""])),(l()(),t["ɵted"](-1,1,["\n    "])),(l()(),t["ɵeld"](56,0,null,1,2,"ion-label",[],null,null,null,null,null)),t["ɵdid"](57,16384,null,0,q.a,[y.a,t.ElementRef,t.Renderer,[8,null],[8,null],[8,null],[8,null]],null,null),(l()(),t["ɵted"](58,null,["海拔精确度（m）：",""])),(l()(),t["ɵted"](-1,1,["\n    "])),(l()(),t["ɵeld"](60,0,null,1,2,"ion-label",[],null,null,null,null,null)),t["ɵdid"](61,16384,null,0,q.a,[y.a,t.ElementRef,t.Renderer,[8,null],[8,null],[8,null],[8,null]],null,null),(l()(),t["ɵted"](62,null,["移速（m/s）：",""])),(l()(),t["ɵted"](-1,1,["\n    "])),(l()(),t["ɵeld"](64,0,null,1,2,"ion-label",[],null,null,null,null,null)),t["ɵdid"](65,16384,null,0,q.a,[y.a,t.ElementRef,t.Renderer,[8,null],[8,null],[8,null],[8,null]],null,null),(l()(),t["ɵted"](66,null,["方位（0°->N，180°->S）：",""])),(l()(),t["ɵted"](-1,1,["\n    "])),(l()(),t["ɵeld"](68,0,null,1,2,"ion-label",[],null,null,null,null,null)),t["ɵdid"](69,16384,null,0,q.a,[y.a,t.ElementRef,t.Renderer,[8,null],[8,null],[8,null],[8,null]],null,null),(l()(),t["ɵted"](70,null,["时间：",""])),(l()(),t["ɵted"](-1,1,["\n"]))],function(l,n){l(n,4,0,"primary");l(n,24,0,"md-locate");l(n,29,0,"");l(n,33,0,"")},function(l,n){var u=n.component;l(n,3,0,t["ɵnov"](n,4)._hidden,t["ɵnov"](n,4)._sbPadding);l(n,12,0,t["ɵnov"](n,13).statusbarPadding,t["ɵnov"](n,13)._hasRefresher);l(n,23,0,t["ɵnov"](n,24)._hidden);l(n,42,0,null==u.locaion?null:u.locaion.coords.longitude);l(n,46,0,null==u.locaion?null:u.locaion.coords.latitude);l(n,50,0,null==u.locaion?null:u.locaion.coords.accuracy);l(n,54,0,null==u.locaion?null:null==u.locaion.coords?null:u.locaion.coords.altitude);l(n,58,0,null==u.locaion?null:null==u.locaion.coords?null:u.locaion.coords.altitudeAccuracy);l(n,62,0,null==u.locaion?null:null==u.locaion.coords?null:u.locaion.coords.speed);l(n,66,0,null==u.locaion?null:null==u.locaion.coords?null:u.locaion.coords.altitudeAccuracy);l(n,70,0,u.dateStr)})}Object.defineProperty(n,"__esModule",{value:!0});var t=u(1),o=(u(0),u(19),u(142)),i=u(32),a=u(45),d=(u(418),u(238)),r=function(){function l(l,n,u,e){this.navCtrl=l,this.menuCtrl=n,this.utils=u,this.geolocation=e,this.tag="GeolocationPage",this.dateStr=(new Date).toLocaleString(),this.subscription=null,this.menuCtrl.swipeEnable(!1)}return l.prototype.getLocation=function(){var l=this;this.utils.showLoading("定位中"),this.geolocation.getCurrentPosition({maximumAge:0,timeout:3e4,enableHighAccuracy:!0}).then(function(n){l.utils.dismissLoading(),l.locaion=n,l.dateStr=d.a.millisecondsToFormatDate(l.locaion.timestamp,"yyyy-MM-dd hh:mm:ss"),a.a.log(n,l.tag)},function(n){l.utils.dismissLoading(),a.a.error(n,l.tag),l.showErrMsg(n)}).catch(function(n){l.utils.dismissLoading(),l.showErrMsg(n),a.a.error({"Error getting location":n},l.tag)})},l.prototype.showErrMsg=function(l){this.utils.showAlert(l.code==l.PERMISSION_DENIED?"App权限限制，请在设置里允许当前应用使用GPS定位功能！":l.code==l.POSITION_UNAVAILABLE?"定位服务不可用，请检查GPS或网络是否打开！":l.code==l.TIMEOUT?"请求定位超时！请到空旷(GPS)或网络信号较好的位置开启定位":""+l,"定位失败")},l.prototype.startWatchPosion=function(){var l=this;this.cancelWatchPosition(),this.utils.showLoading("定位中"),this.subscription=this.geolocation.watchPosition({maximumAge:3e3,timeout:3e4,enableHighAccuracy:!0}).filter(function(l){return void 0!==l.coords}).subscribe(function(n){l.utils.dismissLoading(),l.locaion=n,l.dateStr=d.a.millisecondsToFormatDate(l.locaion.timestamp,"yyyy-MM-dd hh:mm:ss"),a.a.log(n,l.tag)},function(n){l.utils.dismissLoading(),a.a.error(n,l.tag),l.showErrMsg(n)})},l.prototype.cancelWatchPosition=function(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)},l.prototype.ionViewDidLoad=function(){},l.prototype.ionViewWillLeave=function(){this.menuCtrl.swipeEnable(!0)},l}(),c=function(){return function(){}}(),s=u(397),m=u(398),f=u(399),b=u(400),p=u(401),h=u(402),g=u(403),R=u(404),v=u(405),E=u(123),y=u(3),L=u(7),M=u(407),P=u(44),w=u(13),S=u(28),A=u(406),F=u(85),_=u(59),C=u(195),k=u(35),I=u(6),N=u(14),D=u(38),G=u(806),O=u(199),W=u(807),T=u(87),B=u(53),x=u(52),V=u(33),q=u(66),H=u(39),U=t["ɵcrt"]({encapsulation:2,styles:[],data:{}}),j=t["ɵccf"]("page-geolocation",r,function(l){return t["ɵvid"](0,[(l()(),t["ɵeld"](0,0,null,null,1,"page-geolocation",[],null,null,null,e,U)),t["ɵdid"](1,49152,null,0,r,[S.a,H.a,i.a,o.a],null,null)],null,null)},{},{},[]),J=u(21),Z=u(31),z=u(194),K=u(60);u.d(n,"GeolocationModuleNgFactory",function(){return Q});var Q=t["ɵcmf"](c,[],function(l){return t["ɵmod"]([t["ɵmpd"](512,t.ComponentFactoryResolver,t["ɵCodegenComponentFactoryResolver"],[[8,[s.a,m.a,f.a,b.a,p.a,h.a,g.a,R.a,v.a,j]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["ɵmpd"](4608,J.l,J.k,[t.LOCALE_ID,[2,J.t]]),t["ɵmpd"](4608,Z["ɵi"],Z["ɵi"],[]),t["ɵmpd"](4608,Z.FormBuilder,Z.FormBuilder,[]),t["ɵmpd"](512,J.b,J.b,[]),t["ɵmpd"](512,Z["ɵba"],Z["ɵba"],[]),t["ɵmpd"](512,Z.FormsModule,Z.FormsModule,[]),t["ɵmpd"](512,Z.ReactiveFormsModule,Z.ReactiveFormsModule,[]),t["ɵmpd"](512,z.a,z.a,[]),t["ɵmpd"](512,z.b,z.b,[]),t["ɵmpd"](512,c,c,[]),t["ɵmpd"](256,K.a,r,[])])})},806:function(l,n,u){"use strict";function e(l){return t["ɵvid"](0,[t["ɵncd"](null,0)],null,null)}u.d(n,"a",function(){return o}),n.b=e;var t=u(1),o=(u(6),t["ɵcrt"]({encapsulation:2,styles:[],data:{}}))},807:function(l,n,u){"use strict";function e(l){return t["ɵvid"](2,[(l()(),t["ɵeld"](0,0,null,null,1,"ion-icon",[["class","fab-close-icon"],["name","close"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t["ɵdid"](1,147456,null,0,o.a,[i.a,t.ElementRef,t.Renderer],{name:[0,"name"]},null),(l()(),t["ɵeld"](2,0,null,null,1,"span",[["class","button-inner"]],null,null,null,null,null)),t["ɵncd"](null,0),(l()(),t["ɵeld"](4,0,null,null,0,"div",[["class","button-effect"]],null,null,null,null,null))],function(l,n){l(n,1,0,"close")},function(l,n){l(n,0,0,t["ɵnov"](n,1)._hidden)})}u.d(n,"a",function(){return a}),n.b=e;var t=u(1),o=u(53),i=u(3),a=t["ɵcrt"]({encapsulation:2,styles:[],data:{}})}});